# Memory 维护规则（长期有效）

> 目的：让后续“写入/拆分/搜索”稳定且可预测，避免 MEMORY 混乱。

## 1) 文件分层（别让 MEMORY.md 变成长文）
- `MEMORY.md`：只放**索引 + 快速概览**（入口文件）。
- `memory/YYYY-MM-DD.md`：日常流水/临时上下文（可啰嗦，可重复，但别当知识库）。
- `memory/*.md`：主题化的长期记忆（事实/规则/稳定信息）。

## 2) 目录结构（建议，但不强制）
- 后续如果继续细拆：
  - `memory/topics/`：跨项目的稳定主题（career、investments、openclaw、workflow、rules…）
  - `memory/projects/`：按项目归档的运行手册/坑点/cron/链接
- 不管怎么拆，必须保证：**有入口索引**（`MEMORY.md` + 各目录 README）。

## 3) 拆分粒度（停手标准）
- 一个文件最好能在 **1–3 分钟读完**。
- 信息量 <10 行的内容：优先合并到更大主题里，不要为了分类而分类。
- 同一类“操作步骤/命令/坑点”集中在一个文件，避免散落。

## 4) 单一事实单一来源（避免多处不一致）
- 同一事实/规则只写一个地方。
- 其他地方用链接引用（不要复制粘贴一份）。

## 5) 命名与可检索性
- 文件名：小写 + 连字符（如 `risk-first-protocol.md`）。
- 标题第一行写清楚“这是什么”，便于 memory_search 命中。
- 关键字（项目名/组件名/命令名）尽量写全称一次。

## 6) 安全与隐私
- 禁止写入任何 API key / token / credential。
- 高敏感项目（如 Pretender）在文件头注明“高保密”，并避免可关联个人身份的细节。

## 7) 变更流程（写完要保证可用）
- 拆分/移动文件后：
  1) 更新 `MEMORY.md` 索引链接
  2) 视情况运行 `openclaw memory index --force`（确保索引同步）
